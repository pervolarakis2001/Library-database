from flask import Flask
from flask_mysqldb import MySQL


app = Flask(__name__)

## configuration of database
def create_app():
    app.config["SECRET_KEY"] = 'perspepat' ## secret key for sessions (signed cookies). Flask uses it to protect the contents of the user session against tampering.
    app.config["MYSQL_USER"] = 'root'
    app.config["MYSQL_PASSWORD"] = str(1532001)
    app.config["MYSQL_DB"] = 'library'
    app.config["MYSQL_HOST"] = 'localhost'
    app.config["WTF_CSRF_SECRET_KEY"] = '' ## token for csrf protection of forms.
    app.config['DEBUG'] = True
    ## secret keys can be generated by secrets.token_hex()
    return app
## initialize database connection object
db = MySQL(app)

## routes must be imported after the app object has been initialized
from  Website import route